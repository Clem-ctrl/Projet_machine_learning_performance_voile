
Data cleaning : 

Refactor le script pour qu'il enleve la méthode qui essaye de reconnaitre les noms et prénoms X
A la place, fusionne les deux colonnes pour avoir un nom complet, et fais en sorte d'homogénéiser l'ordre des mots dans le nom complet, X
par exemple si tu as "Amanda Leer" dans une cellule et "Leer Amanda" dans une autre ou "Mia Castillo Prag" et "Prag Mia Castillo", je veux que ce soit unifié en l'une des deux présentations, peu importe. X


Data processing : 

Supprimer les lignes qui ont abandonned ou recall dans la variable "Course" X
Split la colonne date de la course en trois colonnes : année, mois, jour ex 2023-10-25 x
If cellule dans la colonne Sexe : vide, voir avec names-dataset si les éléments du nom complet sont + homme ou femme et
pour ce qui est le +, assigner "Women" ou "Men" en conséquence. X



Ce qu'il faudra faire en processing: 

Creer des nouveaux indicateurs (sur SQL)

*Indicateurs coureur* : 
- efficacité / wind speed

*Indicateurs performance course* : 
- VMC moyenne / segment X
- Classement sur le segment : prend(faire un ratio pour que ce soit indépendant du nombre de coureurs) via SQL




Ce que j'ai du faire à la main :
- Entrer les villes de compétition dans le fichier metasail statistics, selon le format Openweathermaps
- Les noms qui s'écrivent avec plusieurs orthographes en fonction des compétitions : Krzysztof Orlowski qui, combiné avec l'absence de Sexe, m'empêchait de fill la cellule Sexe vide. 

Retraits : 
Stations metéo non existantes sur Open weather 
Courses postérieures à 2024

Valeurs aberrantes :
les lignes où la VMC est négative ou égale à zéro


Biais :
Je n'ai que les données météo heure par heure, j'ai matché les données de course avec les données météo à l'heure la plus proche 
Les stations météo sont parfois à quelques kilomètres de la course elle-même, donc les données de vent sont imprécises

Ce que j'ai à faire : 
- Scrape les données météo X
- Entonnoir des données 

Prendre une course metasail, et checker ce que veut dire l'orientation du bateau dans les statistiches X


Dans le fichier fetch wind data, faire en sorte que le script aille chercher la ref de la ville et les horaires
correspondants aux débuts et fin de segments des lignes dans metasail statistiques X

Remplacer les requêtes de scraping par CLI single file + regex X

Ajuster le script pour vérifier que wind_orientation_metasail soit + ou - 10 degrés égal à Wind Direction (deg). X

Démarche avec un navigateur sans tête

Voici comment tu pourrais mettre en œuvre ta stratégie en utilisant un script Python avec Selenium (le même concept s'applique à Playwright) :

    Lancer le navigateur sans tête : Configure Selenium pour ouvrir un navigateur en arrière-plan.

    Naviguer vers l'URL : Charge la page de relecture de la course.

    Trouver la barre de défilement : Localise l'élément HTML de la barre de défilement ou du curseur de la chronologie. Pour cela, tu devras inspecter la page avec les outils de développement de ton navigateur (clic droit -> "Inspecter l'élément") et trouver son identifiant (id), son nom de classe (class), ou d'autres attributs uniques.

    Simuler l'interaction : Une fois l'élément trouvé, tu peux utiliser une méthode de Selenium pour le "cliquer et glisser" ou, plus simplement et plus fiable, le "cliquer" à une position spécifique. Par exemple, tu pourrais cliquer à la position où se trouve le drapeau pour avancer la relecture.

        Clic direct : Une approche simple est de trouver la position du drapeau sur la chronologie et de simuler un clic à cet endroit.

        Glisser-déposer : Une méthode plus complexe, mais qui fonctionne, consiste à cliquer sur le curseur et à le déplacer jusqu'à la position souhaitée.

    Attendre : Accorde un bref instant (par exemple, 2 à 5 secondes) pour que la page se mette à jour et que les données du vent s'affichent après avoir déplacé le curseur.

    Extraire les données : Utilise la même logique que précédemment pour localiser l'élément de l'orientation du vent (<div id=lblWind>) et en extraire le texte.

    Fermer le navigateur : Termine la session de navigation.

Cette approche te donne le contrôle précis dont tu as besoin pour contourner le long temps d'attente et obtenir l'information souhaitée dès que tu le souhaites dans la relecture.




